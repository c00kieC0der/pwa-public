!function(e){function convertTemp(e,t){return"e"===t?Math.round(5*(e-32)/9):Math.round(9*e/5+32)}document.addEventListener("builder",function(){if(console.log("cust_params",(new Date).getTime()-window.renderStartTime),console.log("Data",_Data),_Data&&_Data.obs){var t,s,a,n,o,i=_Data.obs;t=_User&&_User.unitPref||"m",s="e"===t?i.temperature:convertTemp(i.temperature,t),a="m"===t?i.temperature:convertTemp(i.temperature,t),n="e"===t?i.feelsLike:convertTemp(i.feelsLike,t),o="m"===t?i.feelsLike:convertTemp(i.feelsLike,t),e.custParams=e.custParams||{},e.custParams.hmid=i.humidity+"",e.custParams.wind=i.windSpeed+"",e.custParams.uv=i.uvIndex+"",e.custParams.realTemp=s+"",e.custParams.tmp=[s,a],e.custParams.tempc=a+"",e.custParams.tempR={val:s+""},e.custParams.tempRC={val:a+""},e.custParams.wxIcon=i.icon+"",e.custParams.flsLkF=n+"",e.custParams.flsLkC=o+"",i.iconExt&&(e.custParams.wxExtIcon=i.iconExt+""),e.custParams.cnd=i.icon+"",e.custParams.baro=i.barometerCode+"",e.custParams.snw=i.snowDepth+""}})}(TWC.adUtils||{}),!function(e){function extend(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}function getCookie(e){var t="; "+document.cookie,s=t.split("; "+e+"=");if(2==s.length)return s.pop().split(";").shift()}function setAd(e){var t=e.getAttribute("id"),s=d&&"mobile"||"desktop";googletag.cmd.push(function(){var e=googletag.defineSlot(n,i[s][t].sizes,t).addService(googletag.pubads()).setTargeting("pos",i[s][t].pos);window.ls_dfp_slots.push(e),p.push(e)})}function displayAd(e){var t=e.getAttribute("id");googletag.display(t)}var t,s,a,n,o,i,r,d=window.innerWidth<768,m=(window.innerWidth>769&&window.innerWidth<1025,window.innerWidth>1024,getCookie("adstest")),c=d&&"7646-weatherMW"||"7646-weatherBW",u="//ox-d.weatherus.servedbyopenx.com/w/1.0/jstag?nc="+c,l=document.createElement("script"),g=document.getElementsByTagName("script")&&document.getElementsByTagName("script")[0];l.src=u,l.async=!0,g.parentNode.insertBefore(l,g),t="/7646/",s=d?"mobile_smart_us":"web_weather_us",s=m?"test_"+s:s,a="/home",n=t+s+a,o=t+s,i={desktop:{WX_WindowShade:{pos:"wx_ws",sizes:[[300,276],[728,91],[970,90],[728,50]]},WX_Top300Variable:{pos:"wx_300var",sizes:[[300,251],[300,600],[300,1050],[300,276]]},WX_Mid300:{pos:"wx_mid300",sizes:[300,251]},WX_Hidden:{pos:"wx_hdn",sizes:[1,1]}},mobile:{MW_Position1:{pos:"mw_p1",sizes:[[320,51],[300,276],[300,45]]},MW_Position2:{pos:"mw_p2",sizes:[300,251]},MW_Position3:{pos:"mw_p3",sizes:[300,251]},MW_Position4:{pos:"mw_p4",sizes:[300,251]}}},r={cat:"fcst",ch:"fcst",fam:"fcst",ad_unit:encodeURIComponent(o)},m&&(r.adstest=m);var p=[],w=d?'[id^="MW_"]':'[id^="WX_"]',_=document.querySelectorAll(w);_.forEach(function(e){setAd(e)}),googletag.cmd.push(function(){Promise.all([e.wxftgPromise.promise,e.amznSlotsPromise.promise,e.criteoPromise.promise]).then(function(){console.log("allPromisesDone",(new Date).getTime()-window.renderStartTime),e.custParams=extend({},e.custParams,r);for(var t in e.custParams)e.custParams.hasOwnProperty(t)&&googletag.pubads().setTargeting(t,e.custParams[t]);if(googletag.pubads().enableSingleRequest(),googletag.enableServices(),"undefined"!=typeof index_headertag_lightspeed){var s=function(e,t){return function(){for(index_headertag_lightspeed.set_slot_targeting(t),f=0;f<e.length;f++)document.getElementById(e[f].getAttribute("id"))&&googletag.display(e[f].getAttribute("id"));document.getElementById("windowshade_info").innerHTML="Pubads Call Time : "+((new Date).getTime()-window.renderStartTime)/1e3+" secs",console.dir("Pubads Call Time : "+((new Date).getTime()-window.renderStartTime)/1e3+"secs")}}(_,window.ls_dfp_slots);index_headertag_lightspeed.add_session_end_hook(s,!0),index_headertag_lightspeed.refresh()}else _.forEach(function(e){displayAd(e)}),document.getElementById("windowshade_info").innerHTML="Pubads Call Time : "+((new Date).getTime()-window.renderStartTime)/1e3+" secs",console.dir("Pubads Call Time : "+((new Date).getTime()-window.renderStartTime)/1e3+"secs")})})}(TWC.adUtils||{});