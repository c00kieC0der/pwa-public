var _User={loggedIn:!1,unitPref:"e",lang:"en-US",locations:[],activeLocation:{lat:"","long":"",prsntNm:""}},savedPco=window.localStorage.jStorage?JSON.parse(window.localStorage.jStorage):{};_User.loggedIn=!(!savedPco.profile||!savedPco.profile.userid),_User.webPush=savedPco.products&&savedPco.products.WebPushNotifications?savedPco.products.WebPushNotifications:{},_User.locations=savedPco.user&&savedPco.user.recentSearchLocations?savedPco.user.recentSearchLocations:[],_User.lang=savedPco.user&&savedPco.user.locale?savedPco.user.locale.replace("_","-"):"en-US",_User.unitPref=savedPco.user&&savedPco.user.unit?savedPco.user.unit:"e",window.localStorage._Stored_User?_User=JSON.parse(window.localStorage._Stored_User):window.localStorage._Stored_User=JSON.stringify(_User),!_User.activeLocation.prsntNm&&_User.locations.length>0&&(_User.activeLocation=_User.locations[0]);var saveUser=function(){window.localStorage._Stored_User=JSON.stringify(_User),savedPco.products=savedPco.products?savedPco.products:{},savedPco.products.WebPushNotifications=_User.webPush,window.localStorage.jStorage=JSON.stringify(savedPco),_Data.collectNew()};_User.setLanguage=function(e){_User.lang=e,saveUser()},_User.setUnitPreference=function(e){_User.unitPref=e,saveUser()},_User.addLocation=function(e){_User.locations.push(e),saveUser()},_User.newActiveLocation=function(e,s){_User.activeLocation.prsntNm&&s&&_User.locations.push(_User.activeLocation),_User.activeLocation=e,saveUser()},_User.updatePushNotifications=function(e){e?_User.webPush={PushStatus:"confirmNotification",timeStamp:(new Date).getTime()}:_User.webPush={PushStatus:"noPushNotification",timeStamp:(new Date).getTime()},saveUser()};