var _Locations={};!function(){var o=document.createEvent("Event");o.initEvent("builder-locations",!0,!0),_Locations.searchLocs=function(e){var t=_User.lang.replace("-","_"),n="https://dsx.weather.com/x/v2/web/loc/"+t+"/1/4/5/9/11/13/19/21/1000/1001/1003//us%5E/("+e+")?api=7bb1c920-7027-4289-9c96-ae5e263980bc";AjaxRequest.get({url:n,generateUniqueUrl:!1,onSuccess:function(e){var t=JSON.parse(e.responseText);_Locations.results=t[0].doc?t[0].doc:[],document.getElementById("event-anchor").dispatchEvent(o)}})},_Locations.getGeoCoordinates=function(o){if(o&&o.coords){var e=o.coords.latitude.toFixed(2),t=o.coords.longitude.toFixed(2);_Locations.supplementLoc(e+", "+t).then(function(o){_User.newActiveLocation(o)})}},_Locations.supplementLoc=function(o){return new Promise(function(e,t){o||t("no location object"),5===o.length&&o.indexOf(",")===-1&&(o+=":4:US");var n="https://dsx.weather.com/wxd/v2/loc/"+o+"?format=json&apiKey=c1ea9f47f6a88b9acb43aba7faf389d4";AjaxRequest.get({url:n,generateUniqueUrl:!1,onSuccess:function(o){e(JSON.parse(o.responseText))}})})},_Locations.callGeoLocation=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(_Locations.getGeoCoordinates)};var e=helper.getJSON("/ss-SS/js-src/default-locations.json").then(function(o){e=o});_Locations.getDefaultLocation=function(){return new Promise(function(o,t){_User.activeLocation.prsntNm||(e[_User.lang]?_Locations.supplementLoc(e[_User.lang].locId).then(function(e){o(e)}):(_Locations.callGeoLocation(),o()))})}}();